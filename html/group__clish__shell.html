<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>CLISH: shell</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<h1>shell<br>
<small>
[<a class="el" href="group__clish.html">&quot;CLI Shell&quot; Library</a>]</small>
</h1>This class represents the top level container for a CLI session.  
<a href="#_details">More...</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structclish__shell__builtin__t.html">clish_shell_builtin_t</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structclish__shell__hooks__t.html">clish_shell_hooks_t</a></td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g88fb6285eba2943e63cf44be2285d1ff"></a><!-- doxytag: member="clish_shell::clish_shell_t" ref="g88fb6285eba2943e63cf44be2285d1ff" args="" -->
typedef clish_shell_s&nbsp;</td><td class="memItemRight" valign="bottom"><b>clish_shell_t</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="group__lub__types.html#g04dd5074964518403bf944f2b240a5f8">bool_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__clish__shell.html#gd34388e65d05c9caff87dcb8429e054c">clish_shell_init_fn_t</a> (const clish_shell_t *shell)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__clish__shell.html#g5c1c05a7bb7e174debcdc85b1ef697a3">clish_shell_fini_fn_t</a> (const clish_shell_t *shell)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__clish__shell.html#g55e0096bf11935ddf21596137abf0f7d">clish_shell_cmd_line_fn_t</a> (const clish_shell_t *instance, const char *cmd_line)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="group__lub__types.html#g04dd5074964518403bf944f2b240a5f8">bool_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__clish__shell.html#gd81822411d0770af338df61b6045d4f4">clish_shell_script_fn_t</a> (const clish_shell_t *instance, const char *script)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="group__lub__types.html#g04dd5074964518403bf944f2b240a5f8">bool_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__clish__shell.html#gacbb405577cd8ad501512617a0cc4d38">clish_shell_access_fn_t</a> (const clish_shell_t *instance, const char *access)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="group__lub__types.html#g04dd5074964518403bf944f2b240a5f8">bool_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__clish__shell.html#g7d2c5b8b5aaaaf1e5e532aeec60b9749">clish_shell_builtin_fn_t</a> (const clish_shell_t *instance, const <a class="el" href="group__lub__argv.html#g8dc06aaacd631e379e289ffaae34f104">lub_argv_t</a> *argv)</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gb57a08919e5dc0e72a53b3e6fadb0274"></a><!-- doxytag: member="clish_shell::clish_shell_spawn_and_wait" ref="gb57a08919e5dc0e72a53b3e6fadb0274" args="(const clish_shell_hooks_t *hooks, void *cookie)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>clish_shell_spawn_and_wait</b> (const <a class="el" href="structclish__shell__hooks__t.html">clish_shell_hooks_t</a> *hooks, void *cookie)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__lub__types.html#g04dd5074964518403bf944f2b240a5f8">bool_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__clish__shell.html#ga167869e52b4ae668981111e05635e8a">clish_shell_spawn</a> (pthread_t *pthread, const pthread_attr_t *attr, const <a class="el" href="structclish__shell__hooks__t.html">clish_shell_hooks_t</a> *hooks, void *cookie)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g021f5c498bae999ceca1676135290c8c"></a><!-- doxytag: member="clish_shell::clish_shell_spawn_from_file" ref="g021f5c498bae999ceca1676135290c8c" args="(const clish_shell_hooks_t *hooks, void *cookie, const char *filename)" -->
<a class="el" href="group__lub__types.html#g04dd5074964518403bf944f2b240a5f8">bool_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>clish_shell_spawn_from_file</b> (const <a class="el" href="structclish__shell__hooks__t.html">clish_shell_hooks_t</a> *hooks, void *cookie, const char *filename)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g42db6ea650a4673a3e7ec3321f3dd79e"></a><!-- doxytag: member="clish_shell::clish_shell_new" ref="g42db6ea650a4673a3e7ec3321f3dd79e" args="(const clish_shell_hooks_t *hooks, void *cookie, FILE *istream)" -->
clish_shell_t *&nbsp;</td><td class="memItemRight" valign="bottom"><b>clish_shell_new</b> (const <a class="el" href="structclish__shell__hooks__t.html">clish_shell_hooks_t</a> *hooks, void *cookie, FILE *istream)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g3c1cd0d10cc9eb128431836126f0e337"></a><!-- doxytag: member="clish_shell::clish_shell_startup" ref="g3c1cd0d10cc9eb128431836126f0e337" args="(clish_shell_t *instance)" -->
<a class="el" href="group__lub__types.html#g04dd5074964518403bf944f2b240a5f8">bool_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>clish_shell_startup</b> (clish_shell_t *instance)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g7ce06cf8449827906686110f267f93cb"></a><!-- doxytag: member="clish_shell::clish_shell_delete" ref="g7ce06cf8449827906686110f267f93cb" args="(clish_shell_t *instance)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>clish_shell_delete</b> (clish_shell_t *instance)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g19c547a6507c9dbae5ec8e10ccb40e1a"></a><!-- doxytag: member="clish_shell::clish_shell_find_create_view" ref="g19c547a6507c9dbae5ec8e10ccb40e1a" args="(clish_shell_t *instance, const char *name, const char *prompt)" -->
clish_view_t *&nbsp;</td><td class="memItemRight" valign="bottom"><b>clish_shell_find_create_view</b> (clish_shell_t *instance, const char *name, const char *prompt)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g3dc5a8328b80d69397028dae7f3bb4a8"></a><!-- doxytag: member="clish_shell::clish_shell_find_create_ptype" ref="g3dc5a8328b80d69397028dae7f3bb4a8" args="(clish_shell_t *instance, const char *name, const char *text, const char *pattern, clish_ptype_method_e method, clish_ptype_preprocess_e preprocess)" -->
clish_ptype_t *&nbsp;</td><td class="memItemRight" valign="bottom"><b>clish_shell_find_create_ptype</b> (clish_shell_t *instance, const char *name, const char *text, const char *pattern, <a class="el" href="group__clish__ptype.html#g40eb826969314e1fa3de92fbaf72b8f4">clish_ptype_method_e</a> method, <a class="el" href="group__clish__ptype.html#g92edae2c43d07b7880a70384942e6cfa">clish_ptype_preprocess_e</a> preprocess)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g4dff703653b77159d9eec4e452101738"></a><!-- doxytag: member="clish_shell::clish_shell_xml_read" ref="g4dff703653b77159d9eec4e452101738" args="(clish_shell_t *instance, const char *filename)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>clish_shell_xml_read</b> (clish_shell_t *instance, const char *filename)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g303790c904eda64aaabbca4fb8858f91"></a><!-- doxytag: member="clish_shell::clish_shell_help" ref="g303790c904eda64aaabbca4fb8858f91" args="(clish_shell_t *instance, const char *line)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>clish_shell_help</b> (clish_shell_t *instance, const char *line)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gbe7d4bd4621d219f80bbc62c738b211b"></a><!-- doxytag: member="clish_shell::clish_shell_execute" ref="gbe7d4bd4621d219f80bbc62c738b211b" args="(clish_shell_t *instance, const clish_command_t *cmd, clish_pargv_t **pargv)" -->
<a class="el" href="group__lub__types.html#g04dd5074964518403bf944f2b240a5f8">bool_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>clish_shell_execute</b> (clish_shell_t *instance, const clish_command_t *cmd, clish_pargv_t **pargv)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g8a18c1066ccddeebcafb5c93382fa409"></a><!-- doxytag: member="clish_shell::clish_shell_readline" ref="g8a18c1066ccddeebcafb5c93382fa409" args="(clish_shell_t *shell, const char *prompt, const clish_command_t **cmd, clish_pargv_t **pargv)" -->
<a class="el" href="group__lub__types.html#g04dd5074964518403bf944f2b240a5f8">bool_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>clish_shell_readline</b> (clish_shell_t *shell, const char *prompt, const clish_command_t **cmd, clish_pargv_t **pargv)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g1b72686c12d6ec3a121ccb539e5984de"></a><!-- doxytag: member="clish_shell::clish_shell_set_context" ref="g1b72686c12d6ec3a121ccb539e5984de" args="(clish_shell_t *instance, const char *viewname)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>clish_shell_set_context</b> (clish_shell_t *instance, const char *viewname)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g0a2dd759b7335edf51196d210838f9c5"></a><!-- doxytag: member="clish_shell::clish_shell_dump" ref="g0a2dd759b7335edf51196d210838f9c5" args="(clish_shell_t *instance)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>clish_shell_dump</b> (clish_shell_t *instance)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g1b81abd87589c8f0d3267ede64aa6729"></a><!-- doxytag: member="clish_shell::clish_shell_close" ref="g1b81abd87589c8f0d3267ede64aa6729" args="(clish_shell_t *instance)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>clish_shell_close</b> (clish_shell_t *instance)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g74ad1f91b0a2bc5e63aba83a50ad0ea9"></a><!-- doxytag: member="clish_shell::clish_shell__get_view" ref="g74ad1f91b0a2bc5e63aba83a50ad0ea9" args="(const clish_shell_t *instance)" -->
const clish_view_t *&nbsp;</td><td class="memItemRight" valign="bottom"><b>clish_shell__get_view</b> (const clish_shell_t *instance)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="gda6cff291eace28c0c030b9f3223db12"></a><!-- doxytag: member="clish_shell::clish_shell__get_viewid" ref="gda6cff291eace28c0c030b9f3223db12" args="(const clish_shell_t *instance)" -->
const char *&nbsp;</td><td class="memItemRight" valign="bottom"><b>clish_shell__get_viewid</b> (const clish_shell_t *instance)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g92b8385b728376bd9e04157a423e43d8"></a><!-- doxytag: member="clish_shell::clish_shell__get_overview" ref="g92b8385b728376bd9e04157a423e43d8" args="(const clish_shell_t *instance)" -->
const char *&nbsp;</td><td class="memItemRight" valign="bottom"><b>clish_shell__get_overview</b> (const clish_shell_t *instance)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g4a39d6c7874c0a8c3f5c006109b8fe89"></a><!-- doxytag: member="clish_shell::clish_shell__get_tinyrl" ref="g4a39d6c7874c0a8c3f5c006109b8fe89" args="(const clish_shell_t *instance)" -->
tinyrl_t *&nbsp;</td><td class="memItemRight" valign="bottom"><b>clish_shell__get_tinyrl</b> (const clish_shell_t *instance)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="g4d1d067b02374bfd5cb0984bcf211591"></a><!-- doxytag: member="clish_shell::clish_shell__get_client_cookie" ref="g4d1d067b02374bfd5cb0984bcf211591" args="(const clish_shell_t *instance)" -->
void *&nbsp;</td><td class="memItemRight" valign="bottom"><b>clish_shell__get_client_cookie</b> (const clish_shell_t *instance)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This class represents the top level container for a CLI session. 
<p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="gacbb405577cd8ad501512617a0cc4d38"></a><!-- doxytag: member="shell.h::clish_shell_access_fn_t" ref="gacbb405577cd8ad501512617a0cc4d38" args="(const clish_shell_t *instance, const char *access)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="group__lub__types.html#g04dd5074964518403bf944f2b240a5f8">bool_t</a> <a class="el" href="group__clish__shell.html#gacbb405577cd8ad501512617a0cc4d38">clish_shell_access_fn_t</a>(const clish_shell_t *instance,const char *access)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A hook function used to control access for the current user.<p>
This will be invoked from the context of the spawned shell's thread and will be called during the parsing of the XML files.<p>
The clish component will only insert a command into a view if the access call is sucessfull.<p>
The client may choose to implement invocation of the script in a number of ways, which may include forking a sub-process or thread. It is important that the call doesn't return until the script has been fully evaluated.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><ul>
<li>BOOL_TRUE - if the user of the current CLISH session is permitted access</li><li>BOOL_FALSE - if the user of the current CLISH session is not permitted access</li></ul>
</dd></dl>
<dl class="post" compact><dt><b>Postcondition:</b></dt><dd><ul>
<li>If access is granted then the associated command will be inserted into the appropriate view. </li></ul>
</dd></dl>

</div>
</div><p>
<a class="anchor" name="g7d2c5b8b5aaaaf1e5e532aeec60b9749"></a><!-- doxytag: member="shell.h::clish_shell_builtin_fn_t" ref="g7d2c5b8b5aaaaf1e5e532aeec60b9749" args="(const clish_shell_t *instance, const lub_argv_t *argv)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="group__lub__types.html#g04dd5074964518403bf944f2b240a5f8">bool_t</a> <a class="el" href="group__clish__shell.html#g7d2c5b8b5aaaaf1e5e532aeec60b9749">clish_shell_builtin_fn_t</a>(const clish_shell_t *instance,const <a class="el" href="group__lub__argv.html#g8dc06aaacd631e379e289ffaae34f104">lub_argv_t</a> *argv)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A hook function used as a built in command callback<p>
This will be invoked from the context of the spawned shell's thread and will be called during the execution of a builting command.<p>
A client may register any number of these callbacks in its clish_shell_builtin_cmds_t structure.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><ul>
<li>BOOL_TRUE - if the command completes correctly</li><li>BOOL_FALSE - if the command fails. </li></ul>
</dd></dl>

</div>
</div><p>
<a class="anchor" name="g55e0096bf11935ddf21596137abf0f7d"></a><!-- doxytag: member="shell.h::clish_shell_cmd_line_fn_t" ref="g55e0096bf11935ddf21596137abf0f7d" args="(const clish_shell_t *instance, const char *cmd_line)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void <a class="el" href="group__clish__shell.html#g55e0096bf11935ddf21596137abf0f7d">clish_shell_cmd_line_fn_t</a>(const clish_shell_t *instance,const char *cmd_line)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A hook function used to indicate a command line has been executed and the shell is about to prompt for the next command.<p>
This will be invoked from the context of the spawned shell's thread and will be called once an ACTION has been performed.<p>
A client may use this as a periodic indicator of CLI activity, e.g. to manage session timeouts. In addition any required logging of commands may be performed. 
</div>
</div><p>
<a class="anchor" name="g5c1c05a7bb7e174debcdc85b1ef697a3"></a><!-- doxytag: member="shell.h::clish_shell_fini_fn_t" ref="g5c1c05a7bb7e174debcdc85b1ef697a3" args="(const clish_shell_t *shell)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void <a class="el" href="group__clish__shell.html#g5c1c05a7bb7e174debcdc85b1ef697a3">clish_shell_fini_fn_t</a>(const clish_shell_t *shell)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A hook function used during the shutting down of a spawned shell<p>
This will be invoked from the context of the spawned shell's thread and will be invoked just before the shell is destroyed.<p>
This enables the client-specific finalisation to occur. e.g. releasing any resource held by the cookie, shutting down telnet connections<p>
NB. This function may be called multiple times if a user is spawning new commands (via the "clish_spawn" builtin command), hence should use the reference to the root shell (remembered by the first call to clish_shell_init_fn_t callback) to signal when the cleanup should occur. 
</div>
</div><p>
<a class="anchor" name="gd34388e65d05c9caff87dcb8429e054c"></a><!-- doxytag: member="shell.h::clish_shell_init_fn_t" ref="gd34388e65d05c9caff87dcb8429e054c" args="(const clish_shell_t *shell)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="group__lub__types.html#g04dd5074964518403bf944f2b240a5f8">bool_t</a> <a class="el" href="group__clish__shell.html#gd34388e65d05c9caff87dcb8429e054c">clish_shell_init_fn_t</a>(const clish_shell_t *shell)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A hook function used during the spawning of a new shell.<p>
This will be invoked from the context of the spawned shell's thread and will be invoked just after the shell instance is created.<p>
This enables the client-specific initialisation of the spawned shell's thread e.g. to map the I/O streams, authenticate a user.<p>
N.B. It is possible for a client to have this invoked multiple times if the user is spawning new shells using a commmand which uses the "clish_spawn" builtin function. Hence the client should remember the shell which first calls this function, and only assign resource (e.g. setting up a script interpreter) for that call.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><ul>
<li>BOOL_TRUE if everything is OK</li><li>BOOL_FALSE if the shell should be immediately shut down. </li></ul>
</dd></dl>

</div>
</div><p>
<a class="anchor" name="gd81822411d0770af338df61b6045d4f4"></a><!-- doxytag: member="shell.h::clish_shell_script_fn_t" ref="gd81822411d0770af338df61b6045d4f4" args="(const clish_shell_t *instance, const char *script)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="group__lub__types.html#g04dd5074964518403bf944f2b240a5f8">bool_t</a> <a class="el" href="group__clish__shell.html#gd81822411d0770af338df61b6045d4f4">clish_shell_script_fn_t</a>(const clish_shell_t *instance,const char *script)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A hook function used to invoke the script associated with a command<p>
This will be invoked from the context of the spawned shell's thread and will be invoked with the ACTION script which is to be performed.<p>
The clish component will only pass down a call when a command has been correctly input.<p>
The client may choose to implement invocation of the script in a number of ways, which may include forking a sub-process or thread. It is important that the call doesn't return until the script has been fully evaluated.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><ul>
<li>BOOL_TRUE - if the script is executed without issue</li><li>BOOL_FALSE - if the script had an issue with execution.</li></ul>
</dd></dl>
<dl class="post" compact><dt><b>Postcondition:</b></dt><dd><ul>
<li>If the script executes successfully then any "view" tag associated with the command will be honored. i.e. the CLI will switch to the new view </li></ul>
</dd></dl>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="ga167869e52b4ae668981111e05635e8a"></a><!-- doxytag: member="shell.h::clish_shell_spawn" ref="ga167869e52b4ae668981111e05635e8a" args="(pthread_t *pthread, const pthread_attr_t *attr, const clish_shell_hooks_t *hooks, void *cookie)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__lub__types.html#g04dd5074964518403bf944f2b240a5f8">bool_t</a> clish_shell_spawn           </td>
          <td>(</td>
          <td class="paramtype">pthread_t *&nbsp;</td>
          <td class="paramname"> <em>pthread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const pthread_attr_t *&nbsp;</td>
          <td class="paramname"> <em>attr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structclish__shell__hooks__t.html">clish_shell_hooks_t</a> *&nbsp;</td>
          <td class="paramname"> <em>hooks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>cookie</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This operation causes a separate (POSIX) thread of execution to be spawned. This thread becomes responsible for the CLI session.<p>
This will be invoked from the context of the spawned shell's thread and will be called during the execution of a builting command.<p>
A client may register any number of these callbacks in its clish_shell_builtin_cmds_t structure.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><ul>
<li>BOOL_TRUE - if the thread was successfully spawned</li><li>BOOL_FALSE - if the thread failed to be spawned </li></ul>
</dd></dl>
<dl compact><dt><b>Parameters: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em>pthread</em>&nbsp;</td><td>
A POSIX thread reference to fill out. This can be used to later control the spawned thread if necessary. </td></tr>
<tr><td valign="top"><em>attr</em>&nbsp;</td><td>
A POSIX thread attribute reference which will be used to define the thread which will be lanched. A value of NULL will use the system default. </td></tr>
<tr><td valign="top"><em>hooks</em>&nbsp;</td><td>
A reference to the clients hooks. These are used to communicate back the client when client-specific actions are required. </td></tr>
<tr><td valign="top"><em>cookie</em>&nbsp;</td><td>
A client specific reference which can be obtained during a callback by invoking clish_shell__get_client_cookie() </td></tr>
</table>
</dl>
</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Tue Apr 29 13:41:09 2008 for CLISH by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1 </small></address>
</body>
</html>
